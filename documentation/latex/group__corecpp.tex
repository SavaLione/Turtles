\hypertarget{group__corecpp}{}\section{Core.\+cpp}
\label{group__corecpp}\index{Core.\+cpp@{Core.\+cpp}}
Граф связей класса Core.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=209pt]{group__corecpp}
\end{center}
\end{figure}
\subsection*{Функции}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group__corecpp_gab8ed3baad2f1d9b6b82bf74da9dd3d3a}{noise\+Removal}} (const Mat \&mat\+\_\+in, Mat \&mat\+\_\+out)
\begin{DoxyCompactList}\small\item\em Функция для обработки изображений. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__corecpp_ga9e277d82296b5ed9eda6266d8dcc24a3}{line\+Detection}} (const Mat \&mat\+\_\+in, Mat \&mat\+\_\+out)
\begin{DoxyCompactList}\small\item\em Функция для обработки изображений. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__corecpp_ga10a0271bceabc9c1a0d736ab93113212}{database\+Add}} (string filename)
\begin{DoxyCompactList}\small\item\em Функция для добавления файла с каскадом в файл с информацией о каскадах \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__corecpp_ga78cdbfbe907847e78cfb387df76d99f9}{clearning}} (string filename, string variable)
\begin{DoxyCompactList}\small\item\em Функция для очистки дубликатов в векторе \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__corecpp_ga76b0b7de3d9fa0de10d66740466ebc14}{detection\+Logo}} (const Mat \&mat\+\_\+logo, string cascadefile)
\begin{DoxyCompactList}\small\item\em Функция для поиска объекта на фото \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__corecpp_gae99907f19e7f09055012f68347a57d05}{detection}} (const Mat \&mat\+\_\+logo)
\begin{DoxyCompactList}\small\item\em Модуль поиска объектов на фото \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__corecpp_ga242d25c7a9a1b7212bb890023c8131f5}{settings\+Initialization}} ()
\begin{DoxyCompactList}\small\item\em Модуль настроек. \end{DoxyCompactList}\item 
string \mbox{\hyperlink{group__corecpp_gaa85ae460901348b74381239ce0517d5f}{description}} (string value)
\begin{DoxyCompactList}\small\item\em Функция для поиска описания марки по файлу с каскадом Хаара \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__corecpp_gafe1c5d9570a4ccddf9b5105997e3ddb4}{canny}} (const Mat \&mat\+\_\+in, Mat \&mat\+\_\+out)
\begin{DoxyCompactList}\small\item\em Функция для обработки изображений. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Подробное описание}


\subsection{Функции}
\mbox{\Hypertarget{group__corecpp_gafe1c5d9570a4ccddf9b5105997e3ddb4}\label{group__corecpp_gafe1c5d9570a4ccddf9b5105997e3ddb4}} 
\index{Core.\+cpp@{Core.\+cpp}!canny@{canny}}
\index{canny@{canny}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{canny()}{canny()}}
{\footnotesize\ttfamily void canny (\begin{DoxyParamCaption}\item[{const Mat \&}]{mat\+\_\+in,  }\item[{Mat \&}]{mat\+\_\+out }\end{DoxyParamCaption})}



Функция для обработки изображений. 

Поиск границ на изображении. Метод canny.


\begin{DoxyParams}[1]{Аргументы}
\mbox{\tt in}  & {\em mat\+\_\+in} & Матрица с изображением для обработки \\
\hline
\mbox{\tt out}  & {\em mat\+\_\+out} & Матрица с обработанным изображением, которая будет возвращена \\
\hline
\end{DoxyParams}
Создаём матрицы \begin{DoxyVerb}gray - матрица с изображением в оттенках серого

edge - матрица с границами
\end{DoxyVerb}


Преобразуем изображение в оттенки серого

Запускаем алгоритм поиска границ

Возвращаем матрицу с обработанным изображением 

См. определение в файле Core.\+cpp строка 353

\mbox{\Hypertarget{group__corecpp_ga78cdbfbe907847e78cfb387df76d99f9}\label{group__corecpp_ga78cdbfbe907847e78cfb387df76d99f9}} 
\index{Core.\+cpp@{Core.\+cpp}!clearning@{clearning}}
\index{clearning@{clearning}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{clearning()}{clearning()}}
{\footnotesize\ttfamily void clearning (\begin{DoxyParamCaption}\item[{string}]{filename,  }\item[{string}]{variable }\end{DoxyParamCaption})}



Функция для очистки дубликатов в векторе 


\begin{DoxyParams}[1]{Аргументы}
\mbox{\tt in}  & {\em filename} & Название и путь к файлу \\
\hline
\mbox{\tt in}  & {\em variable} & Вектор, в котором нужно удалить дубликаты \\
\hline
\end{DoxyParams}
Создаём вектор

Создаём файловое хранилище

Открываем файловое хранилище для чтения

Записываем данные из файлового хранилища в вектор

Очищаем файловое хранилище

Сортируем значения вектора

Изменяем размер вектора, удаляя дубликаты

Создаём файловое хранилище для записи

Записываем в файловое хранилище обработанный вектор

Очищаем файловое хранилище 

См. определение в файле Core.\+cpp строка 132

\mbox{\Hypertarget{group__corecpp_ga10a0271bceabc9c1a0d736ab93113212}\label{group__corecpp_ga10a0271bceabc9c1a0d736ab93113212}} 
\index{Core.\+cpp@{Core.\+cpp}!database\+Add@{database\+Add}}
\index{database\+Add@{database\+Add}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{database\+Add()}{databaseAdd()}}
{\footnotesize\ttfamily void database\+Add (\begin{DoxyParamCaption}\item[{string}]{filename }\end{DoxyParamCaption})}



Функция для добавления файла с каскадом в файл с информацией о каскадах 


\begin{DoxyParams}[1]{Аргументы}
\mbox{\tt in}  & {\em filename} & Название каскада с расширением \\
\hline
\end{DoxyParams}
Если название файла не задано, то возвращаем ошибку

Создаём вектор

Создаём файловое хранилище

Открываем файловое хранилище для чтения

Записываем данные из файлового хранилища в вектор

Очищаем файловое хранилище

Записываем переменную filename в конец вектора

Создаём файловое хранилище для записи

Записываем в файловое хранилище обработанный вектор

Очищаем файловое хранилище 

См. определение в файле Core.\+cpp строка 90

\mbox{\Hypertarget{group__corecpp_gaa85ae460901348b74381239ce0517d5f}\label{group__corecpp_gaa85ae460901348b74381239ce0517d5f}} 
\index{Core.\+cpp@{Core.\+cpp}!description@{description}}
\index{description@{description}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{description()}{description()}}
{\footnotesize\ttfamily string description (\begin{DoxyParamCaption}\item[{string}]{value }\end{DoxyParamCaption})}



Функция для поиска описания марки по файлу с каскадом Хаара 


\begin{DoxyParams}[1]{Аргументы}
\mbox{\tt in}  & {\em value} & Название файла \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
Искомое описание марки 
\end{DoxyReturn}
Создание строковой переменной

Присвоение переменной значения из файла настроек. При отсутствии данных в файле будет присвоено значение D\+E\+S\+C\+R\+I\+P\+T\+I\+O\+N\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND

Возвращение искомого описания марки 

См. определение в файле Core.\+cpp строка 331

\mbox{\Hypertarget{group__corecpp_gae99907f19e7f09055012f68347a57d05}\label{group__corecpp_gae99907f19e7f09055012f68347a57d05}} 
\index{Core.\+cpp@{Core.\+cpp}!detection@{detection}}
\index{detection@{detection}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{detection()}{detection()}}
{\footnotesize\ttfamily void detection (\begin{DoxyParamCaption}\item[{const Mat \&}]{mat\+\_\+logo }\end{DoxyParamCaption})}



Модуль поиска объектов на фото 

Поиск объектов на фото

Вывод информации


\begin{DoxyParams}[1]{Аргументы}
\mbox{\tt in}  & {\em mat\+\_\+logo} & Матрица с изображением \\
\hline
\end{DoxyParams}
Проверяем. Нужно ли распознавать объект

Создаём вектор ~\newline


Создаём файловое хранилище

Открываем файловое хранилище для чтения

Записываем данные из файлового хранилища в вектор

Очищаем файловое хранилище

Ищем объект на фото

Если объект есть на фото, то пишем в консоль, что объект найден, иначе пишем, что обхект не найден \begin{DoxyVerb}[FOUND] [example.xml] description.

[NOT FOUND] [example.xml]  \end{DoxyVerb}


См. определение в файле Core.\+cpp строка 228

\mbox{\Hypertarget{group__corecpp_ga76b0b7de3d9fa0de10d66740466ebc14}\label{group__corecpp_ga76b0b7de3d9fa0de10d66740466ebc14}} 
\index{Core.\+cpp@{Core.\+cpp}!detection\+Logo@{detection\+Logo}}
\index{detection\+Logo@{detection\+Logo}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{detection\+Logo()}{detectionLogo()}}
{\footnotesize\ttfamily bool detection\+Logo (\begin{DoxyParamCaption}\item[{const Mat \&}]{mat\+\_\+logo,  }\item[{string}]{cascadefile }\end{DoxyParamCaption})}



Функция для поиска объекта на фото 


\begin{DoxyParams}[1]{Аргументы}
\mbox{\tt in}  & {\em mat\+\_\+logo} & Матрица с изображением \\
\hline
\mbox{\tt in}  & {\em cascadefile} & Файл с каскадом \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
Результат работы. true -\/ объект найден, false -\/ объект не найден 
\end{DoxyReturn}
Создаём 2 переменные. \begin{DoxyVerb}b_return - возвращаемое значение функции

    true - объект найден на фото

    true - объект не найден на фото

image - матрица с изображением
\end{DoxyVerb}


Создаём переменную для хранения каскада logo\+\_\+cascade

Загружаем каскад (.xml файл)

Если каскад пустой, то возвращаем ошибку

Создаём переменную для распознавания объекта

Загружаем размер шаблона из настроек

Ищем объект на фото

Если объект есть на фото, то возвращаем положительное значение 

См. определение в файле Core.\+cpp строка 173

\mbox{\Hypertarget{group__corecpp_ga9e277d82296b5ed9eda6266d8dcc24a3}\label{group__corecpp_ga9e277d82296b5ed9eda6266d8dcc24a3}} 
\index{Core.\+cpp@{Core.\+cpp}!line\+Detection@{line\+Detection}}
\index{line\+Detection@{line\+Detection}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{line\+Detection()}{lineDetection()}}
{\footnotesize\ttfamily void line\+Detection (\begin{DoxyParamCaption}\item[{const Mat \&}]{mat\+\_\+in,  }\item[{Mat \&}]{mat\+\_\+out }\end{DoxyParamCaption})}



Функция для обработки изображений. 

Проверяет, нужно ли находить линии на изображении.

Для обычного режима используется -\/ canny(mat\+\_\+in, mat\+\_\+out);


\begin{DoxyParams}[1]{Аргументы}
\mbox{\tt in}  & {\em mat\+\_\+in} & Матрица с изображением для обработки \\
\hline
\mbox{\tt out}  & {\em mat\+\_\+out} & Матрица с обработанным изображением, которая будет возвращена \\
\hline
\end{DoxyParams}
Проверяем, нужно ли находить линии на изображении. 

См. определение в файле Core.\+cpp строка 76

\mbox{\Hypertarget{group__corecpp_gab8ed3baad2f1d9b6b82bf74da9dd3d3a}\label{group__corecpp_gab8ed3baad2f1d9b6b82bf74da9dd3d3a}} 
\index{Core.\+cpp@{Core.\+cpp}!noise\+Removal@{noise\+Removal}}
\index{noise\+Removal@{noise\+Removal}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{noise\+Removal()}{noiseRemoval()}}
{\footnotesize\ttfamily void noise\+Removal (\begin{DoxyParamCaption}\item[{const Mat \&}]{mat\+\_\+in,  }\item[{Mat \&}]{mat\+\_\+out }\end{DoxyParamCaption})}



Функция для обработки изображений. 

Проверяет, нужно ли убирать шум на фотографиях.

Также проверяем режим обработки изображений. Быстрый или нет.

Для обычного режима используется двусторонний фильтр -\/ bilateral\+Filter();

Для быстрого режима используется Гауссовый фильтр размытия изображений -\/ Gaussian\+Blur();


\begin{DoxyParams}[1]{Аргументы}
\mbox{\tt in}  & {\em mat\+\_\+in} & Матрица с изображением для обработки \\
\hline
\mbox{\tt out}  & {\em mat\+\_\+out} & Матрица с обработанным изображением, которая будет возвращена \\
\hline
\end{DoxyParams}
Проверяем, нужно ли убирать шум на фотографиях.

Если не нужно убирать шум на фотографиях, то посылаем сообщение в лог

Проверяем режим обработки изображений. Быстрый или нет. \begin{DoxyVerb}Если режим обработки изображений не быстрый, то используем двусторонний фильтр.
\end{DoxyVerb}


иначе \begin{DoxyVerb}Если режим обработки изображений быстрый, то используем Гауссовый фильтр  \end{DoxyVerb}


См. определение в файле Core.\+cpp строка 41

\mbox{\Hypertarget{group__corecpp_ga242d25c7a9a1b7212bb890023c8131f5}\label{group__corecpp_ga242d25c7a9a1b7212bb890023c8131f5}} 
\index{Core.\+cpp@{Core.\+cpp}!settings\+Initialization@{settings\+Initialization}}
\index{settings\+Initialization@{settings\+Initialization}!Core.\+cpp@{Core.\+cpp}}
\subsubsection{\texorpdfstring{settings\+Initialization()}{settingsInitialization()}}
{\footnotesize\ttfamily void settings\+Initialization (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Модуль настроек. 

При отсутствии файла настроек, создаёт его Если папка N\+A\+M\+E\+\_\+\+D\+A\+T\+A\+B\+A\+SE не найдена и получилось её создать \begin{DoxyVerb}Вывод в лог, что папка создана
\end{DoxyVerb}


иначе \begin{DoxyVerb}Вывод в лог информации, что папку не получилось создать (возможно не достаточно прав или она уже создана)
\end{DoxyVerb}


Проверка наличия файла настроек F\+I\+L\+E\+\_\+\+N\+A\+M\+E\+\_\+\+C\+O\+N\+F\+IG

Если файла нет, то создать его \begin{DoxyVerb}Добавить в файл параметры
\end{DoxyVerb}


Проверка наличия файла с информацией о каскадах F\+I\+L\+E\+\_\+\+N\+A\+M\+E\+\_\+\+D\+A\+T\+A\+B\+A\+SE

Если файла нет, то создать его

Если нет файла C\+A\+R\+\_\+\+M\+O\+D\+E\+L\+\_\+\+E\+X\+A\+M\+P\+L\+E\+\_\+\+F\+I\+LE, то добавить в файл с информацией о каскадах, строку с файлом. Используется для примера 

См. определение в файле Core.\+cpp строка 273

